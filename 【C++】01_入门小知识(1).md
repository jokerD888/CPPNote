# ã€C++ã€‘01_å…¥é—¨å°çŸ¥è¯†ï¼ˆ1ï¼‰

## å‰è¨€ï¼š

åœ¨å…·æœ‰Cè¯­è¨€çŸ¥è¯†çš„åŸºç¡€ä¸Šï¼Œå…ˆæ¥äº†è§£ä¸‹C++çš„ä¸€äº›çŸ¥è¯†ç‚¹ã€‚

## 01.C++å…³é”®å­—

ğŸ—£ï¼šçœ‹ä¸ªå¤§æ¦‚å°±è¡Œï¼Œæ··ä¸ªçœ¼ç†Ÿï¼Œåç»­ä¼šè¿›è¡Œæ·±å…¥å­¦ä¹ ã€‚

ISO **C++98**/03å…³é”®å­—å…±63ä¸ªï¼Œæ­¤å¤„ä¸¥æ ¼æŒ‰æ ‡å‡†åŸæ–‡æ’ç‰ˆï¼š

| asm        | do           | if               | return      | typedef  |
| ---------- | ------------ | ---------------- | ----------- | -------- |
| auto       | double       | inline           | short       | typeid   |
| bool       | dynamic_cast | int              | signed      | typename |
| break      | else         | long             | sizeof      | union    |
| case       | enum         | mutable          | static      | unsigned |
| catch      | explicit     | namespace        | static_cast | using    |
| char       | export       | new              | struct      | virtual  |
| class      | extern       | operator         | switch      | void     |
| const      | false        | private          | template    | volatile |
| const_cast | float        | protected        | this        | wchar_t  |
| continue   | for          | public           | throw       | while    |
| default    | friend       | register         | true        |          |
| delete     | goto         | reinterpret_cast | try         |          |

## 02.å‘½åç©ºé—´

åœ¨C/C++ä¸­ï¼Œå˜é‡ã€å‡½æ•°å’Œåé¢è¦å­¦åˆ°çš„ç±»éƒ½æ˜¯å¤§é‡å­˜åœ¨çš„ï¼Œè¿™äº›å˜é‡ã€å‡½æ•°å’Œç±»çš„åç§°å°†éƒ½å­˜åœ¨äº**å…¨å±€ä½œç”¨åŸŸ**ä¸­ï¼Œå¯èƒ½ä¼šå¯¼è‡´å¾ˆå¤š**å†²çª**ã€‚ä½¿ç”¨å‘½åç©ºé—´çš„**ç›®çš„æ˜¯å¯¹æ ‡è¯†ç¬¦çš„åç§°è¿›è¡Œæœ¬åœ°åŒ–**ï¼Œä»¥**é¿å…å‘½åå†²çªæˆ–åå­—æ±¡æŸ“**ï¼Œnamespaceå…³é”®å­—çš„å‡ºç°å°±æ˜¯é’ˆå¯¹è¿™ç§é—®é¢˜çš„ã€‚

### 2.1å‘½åç©ºé—´å®šä¹‰

å®šä¹‰å‘½åç©ºé—´ï¼Œéœ€è¦ä½¿ç”¨åˆ°namespaceå…³é”®å­—ï¼Œåé¢è·Ÿå‘½åç©ºé—´çš„åå­—ï¼Œç„¶åæ¥ä¸€å¯¹{}å³å¯ï¼Œ{}ä¸­å³ä¸ºå‘½å ç©ºé—´çš„æˆå‘˜ã€‚

```c++
//1. æ™®é€šçš„å‘½åç©ºé—´
namespace N1 // N1ä¸ºå‘½åç©ºé—´çš„åç§°
{
 // å‘½åç©ºé—´ä¸­çš„å†…å®¹ï¼Œæ—¢å¯ä»¥å®šä¹‰å˜é‡ï¼Œä¹Ÿå¯ä»¥å®šä¹‰å‡½æ•°
     int a;
     int Add(int left, int right)
     {
     return left + right;
     }
}
//2. å‘½åç©ºé—´å¯ä»¥åµŒå¥—
namespace N2
{
     int a;
     int b;
     int Add(int left, int right)
     {
         return left + right;
     }
 
     namespace N3
     {
         int c;
         int d;
         int Sub(int left, int right)
         {
             return left - right;
         }
     }
}
//3. åŒä¸€ä¸ªå·¥ç¨‹ä¸­å…è®¸å­˜åœ¨å¤šä¸ªç›¸åŒåç§°çš„å‘½åç©ºé—´,ç¼–è¯‘å™¨æœ€åä¼šåˆæˆåŒä¸€ä¸ªå‘½åç©ºé—´ä¸­ã€‚
namespace N1
{
     int Mul(int left, int right)
     {
         return left * right;
     }
}
```

æ³¨æ„ğŸ—£ï¼šä¸€ä¸ªå‘½åç©ºé—´å°±å®šä¹‰äº†ä¸€ä¸ªæ–°çš„ä½œç”¨åŸŸï¼Œå‘½åç©ºé—´ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½å±€é™äºè¯¥å‘½åç©ºé—´ä¸­

### 2.2 å‘½åç©ºé—´ä½¿ç”¨

è¦ä½¿ç”¨å‘½åç©ºé—´ä¸­çš„æˆå‘˜æœ‰ä¸‰ç§æ–¹å¼:

```C++
namespace N
{
     int a = 10;
     int b = 20;
     int Add(int left, int right)
     {
         return left + right;
     }
     int Sub(int left, int right)
     {
         return left - right;
     }
}
int main()
{
     printf("%d\n", a); // è¯¥è¯­å¥ç¼–è¯‘å‡ºé”™ï¼Œæ— æ³•è¯†åˆ«a
     return 0;
}
//1.åŠ å‘½åç©ºé—´åç§°åŠä½œç”¨åŸŸé™å®šç¬¦
int main()
{
     printf("%d\n", N::a);
     return 0; 
}
//2.ä½¿ç”¨usingå°†å‘½åç©ºé—´ä¸­æˆå‘˜å¼•å…¥
using N::b;
int main()
{
     printf("%d\n", N::a);
     printf("%d\n", b);
     return 0; 
}
//3.ä½¿ç”¨using namespace å‘½åç©ºé—´åç§°å¼•å…¥
using namespce N;
int main()
{
     printf("%d\n", N::a);
     printf("%d\n", b);
     Add(10, 20);
     return 0; 
}
```

## 03.è¾“å…¥å’Œè¾“å‡º

è®©æˆ‘ä»¬æ¥çœ‹çœ‹C++æ˜¯å¦‚ä½•â€œHello world!"çš„ï¼

```c++
#include<iostream>
using namespace std;
int main()
{
     cout<<"Hello world!!!"<<endl;
     return 0;
}
```

æ³¨æ„ğŸ—£ï¼šç›¸æ¯”Cè¯­è¨€

- ä½¿ç”¨coutæ ‡å‡†è¾“å‡º(æ§åˆ¶å°)å’Œcinæ ‡å‡†è¾“å…¥(é”®ç›˜)æ—¶ï¼Œå¿…é¡»åŒ…å«< iostream >å¤´æ–‡ä»¶ä»¥åŠstdæ ‡å‡†å‘½åç©º é—´ã€‚ æ³¨æ„ï¼šæ—©æœŸæ ‡å‡†åº“å°†æ‰€æœ‰åŠŸèƒ½åœ¨å…¨å±€åŸŸä¸­å®ç°ï¼Œå£°æ˜åœ¨.håç¼€çš„å¤´æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨æ—¶åªéœ€åŒ…å«å¯¹åº”å¤´æ–‡ä»¶ å³å¯ï¼Œåæ¥å°†å…¶å®ç°åœ¨stdå‘½åç©ºé—´ä¸‹ï¼Œä¸ºäº†å’ŒCå¤´æ–‡ä»¶åŒºåˆ†ï¼Œä¹Ÿä¸ºäº†æ­£ç¡®ä½¿ç”¨å‘½åç©ºé—´ï¼Œè§„å®šC++å¤´æ–‡ ä»¶ä¸å¸¦.hï¼›æ—§ç¼–è¯‘å™¨(vc 6.0)ä¸­è¿˜æ”¯æŒæ ¼å¼ï¼Œåç»­ç¼–è¯‘å™¨å·²ä¸æ”¯æŒï¼Œå› æ­¤æ¨èä½¿ç”¨ +stdçš„æ–¹å¼ã€‚
- ç›¸æ¯”Cè¯­è¨€ï¼Œä½¿ç”¨C++è¾“å…¥è¾“å‡ºæ›´æ–¹ä¾¿ï¼Œä¸éœ€å¢åŠ æ•°æ®æ ¼å¼æ§åˆ¶ï¼Œæ¯”å¦‚ï¼šæ•´å½¢-->%dï¼Œå­—ç¬¦-->%cã€‚

```C++
#include <iostream>
using namespace std;
int main()
{
     int a;
     double b;
     char c;

     cin>>a;
     cin>>b>>c;
     cout<<a<<endl;
     cout<<b<<" "<<c<<endl;
    
     return 0;
}
```

## 04.ç¼ºçœå‚æ•°

### 4.1 ç¼ºçœå‚æ•°æ¦‚å¿µ

ç¼ºçœå‚æ•°æ˜¯å£°æ˜æˆ–å®šä¹‰å‡½æ•°æ—¶ä¸ºå‡½æ•°çš„å‚æ•°**æŒ‡å®šä¸€ä¸ªé»˜è®¤å€¼**ã€‚åœ¨è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šå®å‚åˆ™é‡‡ç”¨è¯¥é»˜è®¤å€¼ï¼Œ**å¦åˆ™ä½¿ç”¨æŒ‡å®šçš„å®å‚**ã€‚

```C++
#include <iostream>
using namespace std;
void TestFunc(int a = 0)
{
     cout<<a<<endl;
}
int main()
{
     TestFunc(); // æ²¡æœ‰ä¼ å‚æ—¶ï¼Œä½¿ç”¨å‚æ•°çš„é»˜è®¤å€¼
     TestFunc(10); // ä¼ å‚æ—¶ï¼Œä½¿ç”¨æŒ‡å®šçš„å®å‚
}
```

### 4.2 ç¼ºçœå‚æ•°åˆ†ç±»

```C++
//å…¨ç¼ºçœå‚æ•°
void TestFunc(int a = 10, int b = 20, int c = 30)
{
     cout<<"a = "<<a<<endl;
     cout<<"b = "<<b<<endl;
     cout<<"c = "<<c<<endl;
}

//åŠç¼ºçœå‚æ•°
void TestFunc(int a, int b = 10, int c = 20)
{
     cout<<"a = "<<a<<endl;
     cout<<"b = "<<b<<endl;
     cout<<"c = "<<c<<endl;
}
```

éœ€è¦æ³¨æ„çš„æ˜¯ğŸ—£ï¼š

- åŠç¼ºçœå‚æ•°å¿…é¡»ä»**å³å¾€å·¦ä¾æ¬¡æ¥ç»™å‡º**ï¼Œä¸èƒ½é—´éš”ç€ç»™ã€‚
- ç¼ºçœå‚æ•°ä¸èƒ½åœ¨å‡½æ•°å£°æ˜å’Œå®šä¹‰ä¸­åŒæ—¶å‡ºç°ï¼Œå› ä¸ºï¼šå¦‚æœåœ¨å£°æ˜ä¸å®šä¹‰ä½ç½®åŒæ—¶å‡ºç°ï¼Œæ°å·§ä¸¤ä¸ªä½ç½®æä¾›çš„å€¼ä¸åŒï¼Œé‚£ç¼–è¯‘å™¨å°±æ— æ³•ç¡®å®šåˆ°åº•è¯¥ç”¨é‚£ç¼ºçœå€¼ã€‚
- ç¼ºçœå€¼å¿…é¡»æ˜¯å¸¸é‡æˆ–è€…å…¨å±€å˜é‡

## 05. å‡½æ•°é‡è½½

å¯¹äºè¿™ä¸ªå¯èƒ½å¤§å®¶å¯èƒ½æ¯”è¾ƒé™Œç”Ÿï¼Œä½†ç†è§£èµ·æ¥å¹¶ä¸å›°éš¾ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹ã€‚

### 5.1 å‡½æ•°é‡è½½æ¦‚å¿µ

å‡½æ•°é‡è½½:æ˜¯å‡½æ•°çš„ä¸€ç§**ç‰¹æ®Šæƒ…å†µ**ï¼ŒC++å…è®¸åœ¨åŒä¸€ä½œç”¨åŸŸä¸­å£°æ˜å‡ ä¸ª**åŠŸèƒ½ç±»ä¼¼**çš„**åŒåå‡½æ•°**ï¼Œè¿™äº›åŒåå‡½æ•°çš„å½¢å‚åˆ—è¡¨(**å‚æ•°ä¸ªæ•°**æˆ–**ç±»å‹**æˆ– **é¡ºåº**)å¿…é¡»ä¸åŒï¼Œå¸¸ç”¨æ¥å¤„ç†å®ç°åŠŸèƒ½ç±»ä¼¼æ•°æ®ç±»å‹ä¸åŒçš„é—®é¢˜ã€‚

```C++
int Add(int left, int right)
{	
    return left+right;
}
double Add(double left, double right)
{
     return left+right;
}
long Add(long left, long right)
{
     return left+right;
}
int main()
{
     Add(10, 20);	//è°ƒç”¨ç¬¬ä¸€ä¸ª
     Add(10.0, 20.0);	//è°ƒç”¨ç¬¬äºŒä¸ª
     Add(10L, 20L);		//è°ƒç”¨ç¬¬ä¸‰ä¸ª
    
     return 0;
}

```

ç°åœ¨é—®é¢˜æ¥äº†ï¼Œå¤§å®¶è®¤ä¸ºä¸‹é¢çš„ä¸¤ä¸ªå‡½æ•°å±äºå‡½æ•°é‡è½½å—ï¼Ÿ

```C++
short Add(short left, short right)
{
     return left+right;
}
int Add(short left, short right)
{
     return left+right;
}
```

ç­”æ¡ˆæ˜¯å¦å®šçš„ï¼Œä¸‹é¢ä¼šä»‹ç»åŸå› ã€‚

### 5.2 åå­—ä¿®é¥°(name Mangling)

ä¸ºä»€ä¹ˆC++æ”¯æŒå‡½æ•°é‡è½½ï¼Œè€ŒCè¯­è¨€ä¸æ”¯æŒå‡½æ•°é‡è½½å‘¢ï¼Ÿ åœ¨C/C++ä¸­ï¼Œä¸€ä¸ªç¨‹åºè¦è¿è¡Œèµ·æ¥ï¼Œéœ€è¦ç»å†ä»¥ä¸‹å‡ ä¸ªé˜¶æ®µï¼šé¢„å¤„ç†ã€ç¼–è¯‘ã€æ±‡ç¼–ã€é“¾æ¥ã€‚å¦‚å¯¹è¿™å‡ ä¸ªæ¦‚å¿µä¸æ˜¯å¾ˆæ¸…æ¥šçš„è¯ï¼Œå¯ä»¥çœ‹æˆ‘å¾€æ—¥çš„ä¸€ç¯‡åšå®¢ï¼Œ[Cè¯­è¨€ç¨‹åºçš„ç¼–è¯‘+é“¾æ¥](https://blog.csdn.net/jokerMingge/article/details/117593161)ã€‚

1. å®é™…æˆ‘ä»¬çš„é¡¹ç›®é€šå¸¸æ˜¯ç”±å¤šä¸ªå¤´æ–‡ä»¶å’Œå¤šä¸ªæºæ–‡ä»¶æ„æˆï¼Œè€Œé€šè¿‡Cè¯­è¨€é˜¶æ®µå­¦ä¹ çš„ç¼–è¯‘é“¾æ¥ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œã€å½“å‰a.cppä¸­è°ƒç”¨äº†b.cppä¸­å®šä¹‰çš„Addå‡½æ•°æ—¶ã€‘ï¼Œç¼–è¯‘åé“¾æ¥å‰ï¼Œa.oçš„ç›®æ ‡æ–‡ä»¶ä¸­æ²¡æœ‰ Addçš„å‡½æ•°åœ°å€ï¼Œå› ä¸ºAddæ˜¯åœ¨b.cppä¸­å®šä¹‰çš„ï¼Œæ‰€ä»¥Addçš„åœ°å€åœ¨b.oä¸­ã€‚é‚£ä¹ˆæ€ä¹ˆåŠå‘¢ï¼Ÿ

2. æ‰€ä»¥é“¾æ¥é˜¶æ®µå°±æ˜¯ä¸“é—¨å¤„ç†è¿™ç§é—®é¢˜ï¼Œ**é“¾æ¥å™¨çœ‹åˆ°a.oè°ƒç”¨Addï¼Œä½†æ˜¯æ²¡æœ‰Addçš„åœ°å€ï¼Œå°±ä¼šåˆ°b.oçš„ç¬¦å·è¡¨ä¸­æ‰¾Addçš„åœ°å€ï¼Œç„¶åé“¾æ¥**åˆ°ä¸€èµ·ã€‚

3.  é‚£ä¹ˆé“¾æ¥æ—¶ï¼Œé¢å¯¹Addå‡½æ•°ï¼Œè¿æ¥å™¨ä¼šä½¿ç”¨å“ªä¸ªåå­—å»æ‰¾å‘¢ï¼Ÿè¿™é‡Œæ¯ä¸ªç¼–è¯‘å™¨éƒ½æœ‰è‡ªå·±çš„å‡½æ•°åä¿®é¥°è§„åˆ™ã€‚

   è¿™é‡Œæ¨èè¿™ç¯‡åšå®¢ï¼Œ[C++çš„å‡½æ•°é‡è½½]([C++çš„å‡½æ•°é‡è½½ - å´ç§¦ - åšå®¢å›­ (cnblogs.com)](https://www.cnblogs.com/skynet/archive/2010/09/05/1818636.html))ï¼Œé‡Œé¢æœ‰å…³äºå‡½æ•°é‡è½½è¯¦ç»†çš„ï¼Œå‡½æ•°é‡è½½ä¸ºä»€ä¹ˆä¸è€ƒè™‘è¿”å›å€¼ç±»å‹çš„è¯¦ç»†å›ç­”ä¹Ÿéƒ½åœ¨é‡Œé¢ï¼Œä½ å°±å¯ä»¥çŸ¥é“ä¸ºä»€ä¹ˆå‡½æ•°é‡è½½è¦æ±‚å‚æ•°ä¸åŒï¼Œè€Œè·Ÿè¿”å›å€¼æ²¡å…³ç³»ã€‚

ä½ è®¤ä¸ºè¿™ä¸¤ä¸ªå‡½æ•°èƒ½å½¢æˆå‡½æ•°é‡è½½å—ï¼Ÿ

```C++
void TestFunc(int a = 10)
{
     cout<<"void TestFunc(int)"<<endl;
}
void TestFunc(int a)
{
     cout<<"void TestFunc(int)"<<endl;
}
```

ç­”æ¡ˆæ˜¯ä¸èƒ½ï¼Œå› ä¸ºåå­—ä¿®é¥°ä¸­åªå¯¹å‡½æ•°å‚æ•°çš„ç±»å‹æœ‰ä¿®é¥°ï¼Œè€Œå¯¹å‚æ•°æ˜¯å¦æœ‰é»˜è®¤å‚æ•°å¹¶ä¸å…³å¿ƒï¼Œç¼–è¯‘å™¨å°±è®¤ä¸ºå®ƒä»¬æ˜¯åŒä¸€ä¸ªå‡½æ•°ï¼ŒæŠ¥â€œ***å·²æœ‰ä¸»ä½“â€çš„é”™è¯¯ã€‚

## 06.3extern â€œCâ€

æœ‰æ—¶å€™åœ¨C++å·¥ç¨‹ä¸­å¯èƒ½éœ€è¦å°†æŸäº›å‡½æ•°**æŒ‰ç…§Cçš„é£æ ¼æ¥ç¼–è¯‘**ï¼Œåœ¨å‡½æ•°å‰åŠ extern "C"ï¼Œæ„æ€æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œ å°†è¯¥å‡½æ•°æŒ‰ç…§**Cè¯­è¨€è§„åˆ™æ¥ç¼–è¯‘**ã€‚æ¯”å¦‚ï¼štcmallocæ˜¯googleç”¨C++å®ç°çš„ä¸€ä¸ªé¡¹ç›®ï¼Œä»–æä¾›tcmallc()å’Œtcfree ä¸¤ä¸ªæ¥å£æ¥ä½¿ç”¨ï¼Œä½†å¦‚æœæ˜¯Cé¡¹ç›®å°±æ²¡åŠæ³•ä½¿ç”¨ï¼Œé‚£ä¹ˆä»–å°±ä½¿ç”¨extern â€œCâ€æ¥è§£å†³ã€‚

```C++
extern "C" int Add(int left, int right)
{
	return left + right;
}
```



